extends layout

block pageStyle
  link(rel='stylesheet', href='/stylesheets/index.css')


block pageScript
  script(type='text/javascript', src='/javascripts/cube-3.0.0.js')
  script(type='text/javascript', src='/javascripts/main.js')
  script.
    var gAccount = !{JSON.stringify(account)};


block pageContent
  nav.navbar.navbar-dark.sticky-top.bg-dark.flex-md-nowrap.p-0.shadow
    a.navbar-brand.col-md-11.col-lg-11.mr-0.px-3.navbar-account(href='')=account.name
    ul.navbar-nav
      li.nav-item
        img(src=account.avatar, width='32', height='32')
    ul.navbar-nav.px-3
      li.nav-item.text-nowrap
        a.nav-link(href='javascript:window.app.signout();') 退出登录
  
  div.container.app-container
    div.row
      nav#sidebarMenu.col-sm-1.col-md-1.col-lg-1.d-md-block.bg-dark.sidebar.collapse
        div.sidebar-sticky.pt-3
          ul.nav.flex-column
            li.nav-item
              a.nav-link.active
                svg.bi.sidebar-icon(fill='currentColor', width='24', height='24')
                  use(xlink:href='/images/bootstrap-icons.svg#chat-left-text')
                div.sidebar-label 消息

      nav#catalogue.col-sm-2.col-md-2.col-lg-2.catalogue
        div.catalogue-panel
          - var i = 0
          - each ca in catalogues
            div.catalogue-cell(id='ca_cell_' + (i++), data=ca.id)
              div.catalogue-thumb
                img(src=ca.thumb)
              div.catalogue-label
                div.label=ca.label
                div.sublabel=ca.sublabel
                div.label-bottom &nbsp;
              div.catalogue-state
                span -- 

      main#main.col-sm-7.col-md-7.col-lg-7.main
        div.main-panel
          div.main-header
            div.header-title 标题
          div.main-body
            div.view
          div.main-footer.container
            div.row
              div.col-sm-9.col-md-10.col-lg-10
                textarea(wrap='hard', cols='10', rows='5')
              div.col-sm-3.col-md-2.col-lg-2
                button#btn_send.btn.btn-primary.btn-send 发 送
      
      nav#extras.col-sm-2.col-md-2.col-lg-2.extras
        div.extras-panel
          div.alert.alert-primary(role='alert') 正在启动……
